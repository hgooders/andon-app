<!DOCTYPE html>
<html>
<head>
  <title>OPR</title>
</head>
<body>
  <h1 style="text-align: center;">Operational Performance Report</h1>

  <h2>Most Common Reasons</h2>
  <ul>
    {% for reason, count in reasons.items() %}
      <li>{{ reason }}: {{ count }}</li>
    {% endfor %}
  </ul>

  <h2>All Andon Presses</h2>
  <table border="1" style="margin: auto;">
    <tr>
      <th>Reason</th>
      <th>Name</th>
      <th>Time Stopped (min)</th>
      <th>Timestamp</th>
    </tr>
    {% for entry in entries %}
    <tr>
      <td>{{ entry.reason }}</td>
      <td>{{ entry.name }}</td>
      <td>{{ entry.stopped_time }}</td>
      <td>{{ entry.timestamp }}</td>
    </tr>
    {% endfor %}
  </table>

  <br>

<div style="width: 100%; display: flex; justify-content: center; gap: 10px; margin-top: 20px;">
  <form method="POST" action="/reset">
    <button type="submit">Reset All Andons</button>
  </form>

  <form method="GET" action="/download">
    <button type="submit">Download Data</button>
  </form>

  <form action="/">
    <button type="submit">Back</button>
  </form>
</div>
 
</body>
</html>

